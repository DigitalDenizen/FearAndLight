[gd_scene load_steps=50 format=2]

[ext_resource path="res://Characters/Enemies/Zombie.gd" type="Script" id=1]
[ext_resource path="res://Images/Enemies/Zombie/enemy-zombie-sprite-alt-4.png" type="Texture" id=2]
[ext_resource path="res://Images/Enemies/Zombie/enemy-zombie-emission-sprite.png" type="Texture" id=3]
[ext_resource path="res://Characters/UI/EnemyBar.tscn" type="PackedScene" id=4]
[ext_resource path="res://Audio/Sounds/Attacks/Zombie/AttackThree.wav" type="AudioStream" id=7]
[ext_resource path="res://Audio/Sounds/Attacks/Zombie/AttackTwo.wav" type="AudioStream" id=8]
[ext_resource path="res://Audio/Sounds/Attacks/Zombie/AttackOne.wav" type="AudioStream" id=9]
[ext_resource path="res://Characters/Enemies/RandomBarkPlayer.gd" type="Script" id=10]

[sub_resource type="Shader" id=110]
code = "shader_type canvas_item;
uniform sampler2D emission_texture;
uniform vec4 glow_color : hint_color = vec4(1.0);

void fragment()
{
	vec4 current_color = texture(TEXTURE,UV);
	vec4 emission_color = texture(emission_texture, UV);
	
	if(emission_color.r > 0f)
	{
		COLOR = (emission_color + glow_color)
	}
	else
	{
		COLOR = current_color; // we aren't over an emission pixel leave alone
	}
}"

[sub_resource type="ShaderMaterial" id=111]
shader = SubResource( 110 )
shader_param/glow_color = Color( 1, 1, 1, 1 )
shader_param/emission_texture = ExtResource( 3 )

[sub_resource type="AtlasTexture" id=130]
atlas = ExtResource( 2 )
region = Rect2( 0, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=131]
atlas = ExtResource( 2 )
region = Rect2( 44, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=132]
atlas = ExtResource( 2 )
region = Rect2( 88, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=133]
atlas = ExtResource( 2 )
region = Rect2( 132, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=145]
atlas = ExtResource( 2 )
region = Rect2( 176, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=146]
atlas = ExtResource( 2 )
region = Rect2( 220, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=147]
atlas = ExtResource( 2 )
region = Rect2( 264, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=148]
atlas = ExtResource( 2 )
region = Rect2( 308, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=113]
atlas = ExtResource( 2 )
region = Rect2( 836, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=114]
atlas = ExtResource( 2 )
region = Rect2( 880, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=115]
atlas = ExtResource( 2 )
region = Rect2( 924, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=116]
atlas = ExtResource( 2 )
region = Rect2( 968, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=117]
atlas = ExtResource( 2 )
region = Rect2( 1012, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=118]
atlas = ExtResource( 2 )
region = Rect2( 1056, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=119]
atlas = ExtResource( 2 )
region = Rect2( 1100, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=120]
atlas = ExtResource( 2 )
region = Rect2( 1144, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=121]
atlas = ExtResource( 2 )
region = Rect2( 1188, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=122]
atlas = ExtResource( 2 )
region = Rect2( 1232, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=123]
atlas = ExtResource( 2 )
region = Rect2( 1276, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=124]
atlas = ExtResource( 2 )
region = Rect2( 1320, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=125]
atlas = ExtResource( 2 )
region = Rect2( 1364, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=126]
atlas = ExtResource( 2 )
region = Rect2( 1408, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=127]
atlas = ExtResource( 2 )
region = Rect2( 1452, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=128]
atlas = ExtResource( 2 )
region = Rect2( 1496, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=129]
atlas = ExtResource( 2 )
region = Rect2( 1540, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=134]
atlas = ExtResource( 2 )
region = Rect2( 352, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=135]
atlas = ExtResource( 2 )
region = Rect2( 396, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=136]
atlas = ExtResource( 2 )
region = Rect2( 440, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=137]
atlas = ExtResource( 2 )
region = Rect2( 484, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=138]
atlas = ExtResource( 2 )
region = Rect2( 528, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=139]
atlas = ExtResource( 2 )
region = Rect2( 572, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=140]
atlas = ExtResource( 2 )
region = Rect2( 616, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=141]
atlas = ExtResource( 2 )
region = Rect2( 660, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=142]
atlas = ExtResource( 2 )
region = Rect2( 704, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=143]
atlas = ExtResource( 2 )
region = Rect2( 748, 0, 44, 41 )

[sub_resource type="AtlasTexture" id=144]
atlas = ExtResource( 2 )
region = Rect2( 792, 0, 44, 41 )

[sub_resource type="SpriteFrames" id=17]
animations = [ {
"frames": [ SubResource( 130 ), SubResource( 131 ), SubResource( 132 ), SubResource( 133 ) ],
"loop": true,
"name": "Idle",
"speed": 10.0
}, {
"frames": [ SubResource( 145 ), SubResource( 146 ), SubResource( 147 ), SubResource( 148 ) ],
"loop": true,
"name": "Walk",
"speed": 5.0
}, {
"frames": [ SubResource( 113 ), SubResource( 114 ), SubResource( 115 ), SubResource( 116 ), SubResource( 117 ), SubResource( 118 ), SubResource( 119 ), SubResource( 120 ), SubResource( 121 ), SubResource( 122 ), SubResource( 123 ), SubResource( 124 ), SubResource( 125 ), SubResource( 126 ), SubResource( 127 ), SubResource( 128 ), SubResource( 129 ) ],
"loop": false,
"name": "Death",
"speed": 15.0
}, {
"frames": [ SubResource( 134 ), SubResource( 135 ), SubResource( 136 ), SubResource( 137 ), SubResource( 138 ), SubResource( 139 ), SubResource( 140 ), SubResource( 141 ), SubResource( 142 ), SubResource( 143 ), SubResource( 144 ) ],
"loop": true,
"name": "Attack",
"speed": 15.0
} ]

[sub_resource type="CircleShape2D" id=1]
radius = 10.0

[sub_resource type="Environment" id=109]
background_mode = 4
glow_enabled = true
glow_intensity = 2.08
glow_strength = 0.35
glow_blend_mode = 0
glow_hdr_threshold = 0.38
glow_hdr_luminance_cap = 45.25
glow_hdr_scale = 1.95

[node name="Zombie" type="KinematicBody2D"]
position = Vector2( 0.418106, 0 )
collision_layer = 4
collision_mask = 7
script = ExtResource( 1 )

[node name="HealthBar" parent="." instance=ExtResource( 4 )]
margin_left = -18.4181
margin_top = -27.0
margin_right = 21.5819
margin_bottom = 13.0

[node name="AnimatedSprite" type="AnimatedSprite" parent="."]
material = SubResource( 111 )
frames = SubResource( 17 )
animation = "Attack"
frame = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( 6.58189, 12 )
z_as_relative = false
shape = SubResource( 1 )

[node name="PathLine" type="Line2D" parent="."]
width = 2.0
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="RandomGrowlPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -16.741
script = ExtResource( 10 )
audio_files = [ ExtResource( 9 ), ExtResource( 7 ), ExtResource( 8 ) ]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 109 )

[connection signal="health_updated" from="." to="HealthBar" method="_on_Zombie_health_updated"]
[connection signal="killed" from="." to="." method="_on_Zombie_killed"]
[connection signal="melee" from="." to="." method="_on_Zombie_melee"]
